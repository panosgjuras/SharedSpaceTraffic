fdf = data.frame(gender=df$gender, age = df$age, education=df$eduction, euid = df$euid, euint = df$euint, euen = df$euen, euteach = df$euteach,
eudiv = df$eudiv, eudim = df$eudim)
fdf = data.frame(gender=df$gender, age = df$age,
euid = df$euid, euint = df$euint, euen = df$euen, euteach = df$euteach,
eudiv = df$eudiv, eudim = df$eudim)
fdf = data.frame(gender=df$gender, age = df$age, education = df$education,
euid = df$euid, euint = df$euint, euen = df$euen, euteach = df$euteach,
eudiv = df$eudiv, eudim = df$eudim)
M = cor(fdf)
testRes=cor.mtest(fdf, conf.level=0.95)
corrplot(M, method = 'number', p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
corrplot(M, p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
t.test(subset(df, pid<=180)$euint/4, subset(df, pid>180)$euint/4, paired = FALSE)
describe(subset(df, pid<=180)$euint/4 - subset(df, pid>180)$euint/4, paired = FALSE)
describe(subset(df, pid<=180)$euint/4 - subset(df, pid>180)$euint/4)
t.test(subset(df, pid<=180)$euint/4, subset(df, pid>180)$euint/4, paired = FALSE)
t.test(subset(df, pid<=180)$euint/4, subset(df, pid>180)$euint/4, paired = FALSE)
t.test(subset(df, pid<=180)$euid/4, subset(df, pid>180)$euid/4, paired = FALSE)
t.test(subset(df, pid<=180)$euen/4, subset(df, pid>180)$euen/4, paired = FALSE)
t.test(subset(df, pid<=180)$euint/4, subset(df, pid>180)$euint/4, paired = FALSE)
library(ggplot2)
library(ggpubr)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset.csv', header=T, dec=".", sep=",")
M = cor(gerdat)
testRes=cor.mtest(gerdat, conf.level=0.95)
corrplot(M, p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset.csv', header=T, dec=".", sep=",")
M = cor(gerdat)
testRes=cor.mtest(gerdat, conf.level=0.95)
View(gerdat)
M = cor(data.frame(gerdat$n_pedestrians,gerdat$n_cars))
testRes=cor.mtest(data.frame(gerdat$n_pedestrians,gerdat$n_cars), conf.level=0.95)
corrplot(M, p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
corel=data.frame(ped = gerdat$n_pedestrians, flow = gerdat$n_cars,
cycle = gerdat$n_cyclists, car_speed = gerdat$mean_car_speed,
cycle_speed = gerdat$mean_car_speed,
ped_d_circ = gerdat$ped_dens_circ,
car_d_circ = gerdat$car_dens_circ)
corel=data.frame(ped = gerdat$n_pedestrians, flow = gerdat$n_cars,
cycle = gerdat$n_cyclists, car_speed = gerdat$mean_car_speed,
cycle_speed = gerdat$mean_car_speed,
ped_d_circ = gerdat$ped_dens_circ,
car_d_circ = gerdat$car_dens_circ)
M = cor(corel)
testRes=cor.mtest(corel, conf.level=0.95)
corrplot(M, p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
corel=data.frame(ped = gerdat$n_pedestrians, flow = gerdat$n_cars,
cycle = gerdat$n_cyclists, car_speed = gerdat$mean_car_speed,
cycle_speed = gerdat$mean_car_speed, cross = gerdat$ped_crossing,
ped_d_circ = gerdat$ped_dens_circ,
car_d_circ = gerdat$car_dens_circ)
corel=data.frame(ped = gerdat$n_pedestrians, flow = gerdat$n_cars,
cycle = gerdat$n_cyclists, car_speed = gerdat$mean_car_speed,
cycle_speed = gerdat$mean_car_speed, cross = gerdat$ped_crossing,
ped_d_circ = gerdat$ped_dens_circ,
car_d_circ = gerdat$car_dens_circ)
M = cor(corel)
testRes=cor.mtest(corel, conf.level=0.95)
corrplot(M, p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing)
x='lsho'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing))
x='mke'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing))
traf<-rbind(traf, data.frame(case='naf', flow=60/subset(eldat, shared==1)$headway, # Add Nafplio data
dspeed = subset(eldat, shared==1)$speed - mean(subset(eldat, shared==1)$speed),
ped = 30*subset(eldat, shared==1)$ped,
cross = 30*subset(eldat, shared==1)$cross))
View(traf)
corel=traf[,-c('case')]
corel=traf[,c('case')]
corel=traf[,-c('case')]
corel=traf[-c('case')]
corel=traf[, -c('case')]
corel = subset(traf, select = -case)
M = cor(corel)
testRes=cor.mtest(corel, conf.level=0.95)
corrplot(M, p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
testRes=cor.mtest(corel, conf.level=0.95)
corrplot(M, method = 'number', p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
library(ggplot2)
library(ggpubr)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset.csv', header=T, dec=".", sep=",")
View(gerdat)
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
x='lsho'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
x='mke'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
View(traf)
x='shnaf'
traf<-rbind(traf, data.frame(case=x, flow=60/subset(eldat, shared==1)$headway, # Add Nafplio data
dspeed = subset(eldat, shared==1)$speed - mean(subset(eldat, shared==1)$speed),
ped = 30*subset(eldat, shared==1)$ped,
cross = 30*subset(eldat, shared==1)$cross,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
x='covnaf'
traf<-rbind(traf, data.frame(case=x, flow=60/subset(eldat, shared==0)$headway, # Add Nafplio data
dspeed = subset(eldat, shared==0)$speed - mean(subset(eldat, shared==1)$speed),
ped = 30*subset(eldat, shared==0)$ped,
cross = 30*subset(eldat, shared==0)$cross,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
x='shnaf'
traf<-rbind(traf, data.frame(case=x, flow=60/subset(eldat, shared==1)$headway, # Add Nafplio data
dspeed = subset(eldat, shared==1)$speed - mean(subset(eldat, shared==1)$speed),
ped = 30*subset(eldat, shared==1)$ped,
cross = 30*subset(eldat, shared==1)$cross,
shared = subset(eldat, case==x)$shared,
oneway = subset(eldat, case==x)$oneway,
park = subset(eldat, case==x)$park,
mark = subset(eldat, case==x)$mark,
trees = subset(eldat, case==x)$trees,
bollards = subset(eldat, case==x)$bollards,
width = subset(eldat, case==x)$width))
View(eldat)
library(ggplot2)
library(ggpubr)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset.csv', header=T, dec=".", sep=",")
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset.csv', header=T, dec=".", sep=",")
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
library(ggplot2)
library(ggpubr)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset.csv', header=T, dec=".", sep=",")
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
View(gerdat)
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
x='lsho'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
corel=data.frame(ped = gerdat$n_pedestrians, flow = gerdat$n_cars,
cycle = gerdat$n_cyclists, car_speed = gerdat$mean_car_speed,
cycle_speed = gerdat$mean_car_speed, cross = gerdat$ped_crossing,
ped_d_circ = gerdat$ped_dens_circ,
car_d_circ = gerdat$car_dens_circ)
M = cor(corel)
testRes=cor.mtest(corel, conf.level=0.95)
corrplot(M, p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
# Starting with fundamental diagrams
# density vs flow
ggplot(subset(gerdat, case=='fsbr'), aes(y=n_cars, x=car_dens_circ))+geom_point()+theme_bw()#+
#geom_smooth(method=lm, color="red", aes(group=2))
ggplot(subset(gerdat, case=='lsho'), aes(y=n_cars, x=car_dens_circ))+geom_point()+theme_bw()#+
#geom_smooth(method=lm, color="red", aes(group=2))
ggplot(subset(gerdat, case=='mke'), aes(y=n_cars, x=car_dens_circ))+geom_point()+theme_bw()#+
# density vs speed
ggplot(subset(gerdat, case=='fsbr'), aes(y=mean_car_speed, x=car_dens_circ))+geom_point()+theme_bw()+
geom_smooth(method=lm, color="red", aes(group=2)) # PANOS: no difference, we have to check density data
ggplot(subset(gerdat, case=='lsho'), aes(y=mean_car_speed, x=car_dens_circ))+geom_point()+theme_bw()+
geom_smooth(method=lm, color="red", aes(group=2))
ggplot(subset(gerdat, case=='mke'), aes(y=mean_car_speed, x=car_dens_circ))+geom_point()+theme_bw()+
geom_smooth(method=lm, color="red", aes(group=2))
# flow vs speed
ggplot(subset(gerdat, case=='fsbr'), aes(x=30*n_cars, y=mean_car_speed))+geom_point()+theme_bw()+
geom_smooth(method=lm, color="red", aes(group=2), formula='y ~ x') # small decrease of speed
max(subset(gerdat, case=='fsbr')$n_cars)*30 # 810 cars/h, close to capacity
cor.test(subset(gerdat, case=='fsbr')$n_cars, subset(gerdat, case=='fsbr')$mean_car_speed) # correlation -0.081,
ggplot(subset(gerdat, case=='lsho'), aes(x=30*n_cars, y=mean_car_speed))+geom_point()+theme_bw()+
geom_smooth(method=lm, color="red", aes(group=2), formula='y ~ x') # no change
max(subset(gerdat, case=='lsho')$n_cars)*30 # 330 cars/h in mke, low flows, far from capacity
cor.test(subset(gerdat, case=='lsho')$n_cars, subset(gerdat, case=='lsho')$mean_car_speed) # no correlation
ggplot(subset(gerdat, case=='mke'), aes(x=30*n_cars, y=mean_car_speed))+geom_point()+theme_bw()+
geom_smooth(method=lm, color="red", aes(group=2), formula='y ~ x') # increase of speed with higher flow
max(subset(gerdat, case=='mke')$n_cars)*30 # 270 cars/h in mke, low flows, far from capacity
cor.test(subset(gerdat, case=='mke')$n_cars, subset(gerdat, case=='mke')$mean_car_speed) # correlation + 0.1729
ggplot(subset(eldat, shared==1), aes(x=60/headway, y=speed))+geom_point()+theme_bw()+ # Greece
geom_smooth(method=lm, color="red", aes(group=2), formula='y ~ x') # no change, very low flows
max(1/subset(eldat, shared==1)$headway)*60 # 750 pcu/h in Nafplio, seems far from capacity
cor.test(60/subset(eldat, shared==1)$headway, subset(eldat, shared==1)$speed) # no significant correlation
mean(subset(gerdat, case=='fsbr')$mean_car_speed) # PANOS: higher mean speed in fsbr, remember that higher flows but no capacity
# therefore more cars higher free flow speed, this is logical
mean(subset(gerdat, case=='lsho')$mean_car_speed)
mean(subset(gerdat, case=='mke')$mean_car_speed)
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
View(gerdat)
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
flow=30*subset(gerdat, case==x)$n_cars
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
#                 dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
#                 ped = 30*subset(gerdat, case==x)$n_pedestrians,
#                 cross = 30*subset(gerdat, case==x)$ped_crossing,
#                 shared = subset(gerdat, case==x)$shared,
#                 oneway = subset(gerdat, case==x)$oneway,
#                 park = subset(gerdat, case==x)$park,
#                 mark = subset(gerdat, case==x)$mark,
#                 trees = subset(gerdat, case==x)$trees,
#                 bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars)
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed))
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed))
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing)
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared)
View(gerdat)
library(ggplot2)
library(ggpubr)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset.csv', header=T, dec=".", sep=",")
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
x='lsho'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
x='mke'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
x='shnaf'
traf<-rbind(traf, data.frame(case=x, flow=60/subset(eldat, shared==1)$headway, # Add Nafplio data
dspeed = subset(eldat, shared==1)$speed - mean(subset(eldat, shared==1)$speed),
ped = 30*subset(eldat, shared==1)$ped,
cross = 30*subset(eldat, shared==1)$cross,
shared = subset(eldat, case==x)$shared,
oneway = subset(eldat, case==x)$oneway,
park = subset(eldat, case==x)$park,
mark = subset(eldat, case==x)$mark,
trees = subset(eldat, case==x)$trees,
bollards = subset(eldat, case==x)$bollards,
width = subset(eldat, case==x)$width))
View(eldat)
library(ggplot2)
library(ggpubr)
library(corrplot)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
gerdat<-read.csv2('datasets/datasets_germany_DESIGN.csv', header=T, dec=".", sep=",")
eldat<-read.csv2('datasets/amalias_traffic_dataset_DESIGN.csv', header=T, dec=".", sep=",")
# HOT HOT HOT
# create a new dataset, with all shared space sections...
x='fsbr'
traf<-data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width)
x='lsho'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
x='mke'
traf<-rbind(traf, data.frame(case=x, flow=30*subset(gerdat, case==x)$n_cars,
dspeed = subset(gerdat, case==x)$mean_car_speed - mean(subset(gerdat, case==x)$mean_car_speed),
ped = 30*subset(gerdat, case==x)$n_pedestrians,
cross = 30*subset(gerdat, case==x)$ped_crossing,
shared = subset(gerdat, case==x)$shared,
oneway = subset(gerdat, case==x)$oneway,
park = subset(gerdat, case==x)$park,
mark = subset(gerdat, case==x)$mark,
trees = subset(gerdat, case==x)$trees,
bollards = subset(gerdat, case==x)$bollards,
width = subset(gerdat, case==x)$width))
x='shnaf'
traf<-rbind(traf, data.frame(case=x, flow=60/subset(eldat, shared==1)$headway, # Add Nafplio data
dspeed = subset(eldat, shared==1)$speed - mean(subset(eldat, shared==1)$speed),
ped = 30*subset(eldat, shared==1)$ped,
cross = 30*subset(eldat, shared==1)$cross,
shared = subset(eldat, case==x)$shared,
oneway = subset(eldat, case==x)$oneway,
park = subset(eldat, case==x)$park,
mark = subset(eldat, case==x)$mark,
trees = subset(eldat, case==x)$trees,
bollards = subset(eldat, case==x)$bollards,
width = subset(eldat, case==x)$width))
x='covnaf'
traf<-rbind(traf, data.frame(case=x, flow=60/subset(eldat, shared==0)$headway, # Add Nafplio data
dspeed = subset(eldat, shared==0)$speed - mean(subset(eldat, shared==1)$speed),
ped = 30*subset(eldat, shared==0)$ped,
cross = 30*subset(eldat, shared==0)$cross,
shared = subset(eldat, case==x)$shared,
oneway = subset(eldat, case==x)$oneway,
park = subset(eldat, case==x)$park,
mark = subset(eldat, case==x)$mark,
trees = subset(eldat, case==x)$trees,
bollards = subset(eldat, case==x)$bollards,
width = subset(eldat, case==x)$width))
corel = subset(traf, select = -case)
M = cor(corel)
testRes=cor.mtest(corel, conf.level=0.95)
corrplot(M, method = 'number', p.mat = testRes$p, sig.level = 0.05, insig = "blank", diag=FALSE)
